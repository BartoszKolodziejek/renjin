#
# Renjin : JVM-based interpreter for the R language for the statistical analysis
# Copyright Â© 2010-2016 BeDataDriven Groep B.V. and contributors
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, a copy is available at
# https://www.gnu.org/licenses/gpl-2.0.txt
#


library(hamcrest)

 expected <- structure(c(0x1.5206d006db071p-4, -0x1.419345c29d06p-9, 0x1.089170127c81cp-10,
-0x1.419345c29d06p-9, 0x1.93e3d2c12125ep-14, -0x1.e86ef64983649p-15,
0x1.089170127c81cp-10, -0x1.e86ef64983649p-15, 0x1.b1310a28deaacp-7
), .Dim = c(3L, 3L))


assertThat(base:::chol2inv(x=structure(c(-7.07106781186548, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, 0.14142135623731,
0.14142135623731, 0.14142135623731, 0.14142135623731, -180.31222920257,
102.041658159793, 0.19075019403925, 0.180950274888249, 0.171150355737249,
0.161350436586248, 0.151550517435248, 0.141750598284247, 0.131950679133247,
0.122150759982246, 0.112350840831246, 0.102550921680245, 0.0927510025292446,
0.0829510833782442, 0.0731511642272436, 0.0633512450762432, 0.0535513259252426,
0.0437514067742421, 0.0339514876232416, 0.0241515684722411, 0.0143516493212406,
0.00455173017024013, -0.00524818898076037, -0.0150481081317609,
-0.0248480272827614, -0.0346479464337619, -0.0444478655847624,
-0.0542477847357629, -0.0640477038867634, -0.0738476230377639,
-0.0836475421887644, -0.0934474613397649, -0.103247380490765,
-0.113047299641766, -0.122847218792766, -0.132647137943767, -0.142447057094767,
-0.152246976245768, -0.162046895396768, -0.171846814547769, -0.181646733698769,
-0.19144665284977, -0.20124657200077, -0.211046491151771, -0.220846410302771,
-0.230646329453772, -0.240446248604772, -0.250246167755773, -0.260046086906773,
-0.269846006057774, -0.254340355124515, 0.449430921015207, 8.69731047202134,
0.321276119080676, 0.343329995050071, 0.0588282122940552, -0.164694379185781,
-0.295321788935466, -0.22385879061392, -0.21920853787453, -0.104661273842304,
-0.0612154482457058, -0.0621525234125655, -0.0705452562909453,
0.00200808547742763, -0.0537573446990878, 0.0336544463720235,
-0.100504806002977, -0.157992191756202, -0.010204904854937, 0.0488114010183756,
-0.0727349149874846, -0.0333195384024895, -0.191204200717729,
-0.210218666266626, 0.0508305200937163, 0.0403227962936868, -0.0198713274280819,
0.0920061674498957, 0.2998479694255, 0.248661585126886, 0.0341902919002373,
-0.0567163594231639, 0.111712176226984, 0.0474839524683785, 0.125125339149463,
0.129036049492684, 0.277661260168564, 0.14950823096393, -0.0145238861207542,
0.010275072262743, 0.0943505363658233, -0.113826088346344, -0.171312032277045,
-0.00599867619345998, -0.0418352841181095, -0.0650741633236776,
-0.113507084362235, 0.0185927554111472, 0.0890230166089048), .Dim = c(50L,
3L), .Dimnames = list(c("1", "2", "3", "4", "5", "6", "7", "8",
"9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19",
"20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30",
"31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41",
"42", "43", "44", "45", "46", "47", "48", "49", "50"), c("(Intercept)",
"x", ""))))
,  identicalTo( expected, tol = 1e-6 ) )